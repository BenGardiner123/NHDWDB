--///Ben Gardiner 102151272

-- Northen Hospital Database DDL

CREATE TABLE DIMSTAFF(
	DWDIMSTAFFID INT IDENTITY(1,1) NOT NULL, 
	DWDIMSOURCEID INT NOT NULL, 
	DWDIMSOURCEID INT NOT NULL, 
	STAFFTYPE NVARCHAR(50) NOT NULL

	CONSTRAINT PK_DIMSTAFF PRIMARY KEY (DWSTAFFID),
);

CREATE TABLE DIMTREATMENT(
	DWDIMTREATMENTID INT IDENTITY(1,1) NOT NULL,  
	DWDIMSOURCEID INT NOT NULL, 
	DWDIMSOURCETABLE NVARCHAR(50) NOT NULL,
	RECORDTYPE NVARCHAR(50) NOT NULL, 
	CATEGORY NVARCHAR(50) NOT NULL

	CONSTRAINT PK_DIMTREATMENT PRIMARY KEY (DWTREATMENTID),
);

CREATE TABLE DIMPATIENT(
	DWDIMPATIENTID INT IDENTITY(1,1) NOT NULL,
	DWDIMSOURCEID INT NOT NULL, 
	DWDIMSOURCETABLE NVARCHAR(50) NOT NULL, 
	GENDER NVARCHAR(50) NOT NULL,
	YEAROFBORTH INT NOT NULL,
	SUBURB NVARCHAR(50) NOT NULL,
	POSTCODE NVARCHAR(4) NOT NULL,
	COUNTRYOFBIRTH NVARCHAR(50) NOT NULL,
	PREFERREDLANGUAGE NVARCHAR(50) NOT NULL,
	LIVESALONE BIT NOT NULL,
	ACTIVE BIT NOT NULL,
	DIAGNOSIS NVARCHAR(500) NULL,
	CATEGORYNAME NVARCHAR(50) NOT NULL,
	PPROCEDUREDATE DATETIME NULL
	CONSTRAINT PK_DIMTREATMENT PRIMARY KEY (DWTREATMENTID),
);


CREATE TABLE DIMEASUREMENT(
	DWDIMMEASUREMENTID INT IDENTITY(1,1) NOT NULL,
	DWDIMSOURCETABLE NVARCHAR(50) NULL,
	MEASUREMENTID INT NOT NULL,
	MEASUREMENTNAME NVARCHAR(50) NOT NULL,
	DATAPOINTNUMBER INT NOT NULL,
	UPPERLIMIT INT NOT NULL,
	LOWERLIMIT INT NOT NULL,
	[NAME] NVARCHAR(50),
);

CREATE TABLE DWEPISODE(
	DWFACTEPISODEID INT IDENTITY(1,1) NOT NULL,
	DWEPISODEDATEID INT NOT NULL,
	DATETIMERECORDED DATETIME NOT NULL,
	FREQUENCY INT NOT NULL,
	FREQUENCYSETDATE DATETIME NOT NULL,
	[VALUE] FLOAT NOT NULL,

);

CREATE TABLE DWINTERVENTION(
	DWINTERVENTIONID INT IDENTITY(1,1) NOT NULL,
	DWDIMPATIENTID INT NOT NULL,
	DWDIMPATIENTID INT  NOT NULL,
	NOTES NVARCHAR(MAX), 
);

CREATE TABLE DWTREATING(
 
);

